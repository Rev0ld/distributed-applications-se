@page "/authors/edit/{AuthorID:int}"
@attribute [Authorize]

@if (Author == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <EditForm Model="@Author" OnValidSubmit="HandleValidSubmit">
        <DataAnnotationsValidator />
        <ValidationSummary />

        <div class="mb-3">
            <label>First Name</label>
            <InputText @bind-Value="Author.FirstName" class="form-control" />
            <ValidationMessage For="@(() => Author.FirstName)" />
        </div>

        <div class="mb-3">
            <label>Middle Name</label>
            <InputText @bind-Value="Author.MiddleName" class="form-control" />
            <ValidationMessage For="@(() => Author.MiddleName)" />
        </div>

        <div class="mb-3">
            <label>Last Name</label>
            <InputText @bind-Value="Author.LastName" class="form-control" />
            <ValidationMessage For="@(() => Author.LastName)" />
        </div>

        <div class="mb-3">
            <label>Biography</label>
            <InputTextArea @bind-Value="Author.Biography" class="form-control" />
            <ValidationMessage For="@(() => Author.Biography)" />
        </div>

        <button type="submit" class="btn btn-primary me-2">Confirm</button>
        <button type="button" class="btn btn-secondary" @onclick="Cancel">Cancel</button>
    </EditForm>
}